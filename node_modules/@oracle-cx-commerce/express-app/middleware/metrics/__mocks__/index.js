/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

/*
  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

  The metrics middleware is mocked because the 3rd party module 'prom-client' uses a singleton, which causes unavoidable errors on subsequent test runs.
  
  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 */

const mockMetricsMiddleware = {metrics: jest.fn()};

module.exports = () => () => mockMetricsMiddleware;
