{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "getItemsForDelivery",
  "title": "Get a list of OCM content items",
  "description": "Get a list of OCM content items that match the query.",
  "type": "object",
  "properties": {
    "contentRepository": {
      "type": "object",
      "description": "The content repository",
      "properties": {
        "contentItems": {
          "type": "object",
          "description": "The OCM content items JSON, using the content-item ids as the key"
        }
      }
    },
    "pageRepository": {
      "pages": {
        "type": "object",
        "description": "Page data",
        "properties" : {
          "/pageName/": {
            "type": "object",
            "description": "Data relevant to the page of `pageName`",
            "properties": {
              "listOffset": {
                "description": "Current content item offset.",
                "type": "integer"
              },
              "hasMoreContent": {
                "type": "boolean",
                "description": "Boolean flag to show if more content items are available or not."
              },
              "contentWidget-`widgetId`": {
                "type": "object",
                "description": "Collection of key value pairs where the key is the id of a content item that is used in the specific widget and the value is an integer value to show whether the richText function has been ran for an item"
              }
            }
          }
        }
      }
    }
  },
  "example": {
    "contentRepository": {
      "contentItems": {
        "CORE12345": {
          "translatable": true,
          "createdDate": {
            "value": "2021-02-25T16:11:23.831Z",
            "timezone": "UTC"
          },
          "name": "product aware",
          "description": "",
          "language": "en",
          "links": [
            {
              "href": "https://ocm-instance.com/content/published/api/v1.1/items/CORE12345?channelToken=1234567898765432",
              "rel": "self",
              "method": "GET",
              "mediaType": "application/json"
            }
          ],
          "id": "CORE12345",
          "updatedDate": {
            "value": "2021-03-18T11:46:21.959Z",
            "timezone": "UTC"
          },
          "type": "AARichTextType",
          "fields": {
            "thumbnail": {
              "id": "CONT12345",
              "type": "DigitalAsset",
              "typeCategory": "DigitalAssetType",
              "links": [
                {
                  "href": "https://ocm-instance.com/content/published/api/v1.1/items/CONT12345?channelToken=1234567898765432",
                  "rel": "self",
                  "method": "GET",
                  "mediaType": "application/json"
                }
              ]
            },
            "rich_text": "<!DOCTYPE html><p><span style=\"background-color:#e74c3c;\">This area is rich text</span><br />\n<img alt=\"\" height=\"139\" src=\"[!--$CEC_DIGITAL_ASSET--]CONT54321[/!--$CEC_DIGITAL_ASSET--]\" style=\"float:left\" width=\"199\" /></p>\n",
            "title": "xprod2108"
          },
          "slug": "30000103-first-item"
        },
        "CORE98765": {
          "translatable": true,
          "createdDate": {
            "value": "2021-02-24T20:57:30.377Z",
            "timezone": "UTC"
          },
          "name": "second RT item",
          "description": "",
          "language": "en",
          "links": [
            {
              "href": "https://ocm-instance.com/content/published/api/v1.1/items/CORE98765?channelToken=1234567898765432",
              "rel": "self",
              "method": "GET",
              "mediaType": "application/json"
            }
          ],
          "id": "CORE98765",
          "updatedDate": {
            "value": "2021-03-18T11:01:43.192Z",
            "timezone": "UTC"
          },
          "type": "AARichTextType",
          "fields": {
            "thumbnail": {
              "id": "CONT56789",
              "type": "DigitalAsset",
              "typeCategory": "DigitalAssetType",
              "links": [
                {
                  "href": "https://ocm-instance.com/content/published/api/v1.1/items/CONT56789?channelToken=1234567898765432",
                  "rel": "self",
                  "method": "GET",
                  "mediaType": "application/json"
                }
              ]
            },
            "rich_text": "<!DOCTYPE html><p>My indicators don&#39;t work?&nbsp;</p>\n\n<p style=\"text-align:center\"><img alt=\"\" height=\"122\" src=\"[!--$CEC_DIGITAL_ASSET--]CONT6B71F03017EB4844BDFEA6A49E89D171[/!--$CEC_DIGITAL_ASSET--]\" width=\"184\" /></p>\n\n<p>&nbsp;</p>\n",
            "title": "ora bmw"
          },
          "slug": "30000101-second-item"
        }
      }
    },
    "pageRepository": {
      "pages": {
        "p100307": {
          "listOffset": 0,
          "hasMoreContent": false,
          "contentWidget-800001": {
            "CORE12345": 1,
            "CORE98765": 1
          }
        }
      }
    }
  }
}
