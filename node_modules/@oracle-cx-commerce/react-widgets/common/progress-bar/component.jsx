/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

import Portal from '@oracle-cx-commerce/react-components/portal';
import React from 'react';
import Styled from '@oracle-cx-commerce/react-components/styled';
import {connect} from '@oracle-cx-commerce/react-components/provider';
import css from '@oracle-cx-commerce/react-widgets/common/progress-bar/styles.css';
import {getEndpointStatus} from '@oracle-cx-commerce/commerce-utils/selector';

export const ProgressBar = ({inProgress = 0}) => (
  <Styled id="ProgressBar" css={css}>
    <Portal>
      <div className="ProgressBar" style={{visibility: inProgress > 0 ? 'visible' : 'hidden'}}>
        <div role="progressbar">
          <div></div>
          <div></div>
        </div>
      </div>
    </Portal>
  </Styled>
);

export const selector = state => getEndpointStatus(state).getApplicationPage || {};

export default connect(selector)(ProgressBar);
