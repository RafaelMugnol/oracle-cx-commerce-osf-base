/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

import React, {useContext} from 'react';

import MenuIcon from '@oracle-cx-commerce/react-components/icons/menu';
import {MenuMobileContext} from '@oracle-cx-commerce/react-widgets/common/menu-mobile/context';

/**
 * Icon used via the menu to open / close the menu
 */
const MenuMobileIcon = React.forwardRef(function WrappedMenuMobileIcon(
  {className, color, clickHandler = () => {}, ...rest},
  ref
) {
  const {closeMenuButtonId} = useContext(MenuMobileContext);

  return (
    <React.Fragment>
      {/* eslint-disable-next-line jsx-a11y/label-has-associated-control, jsx-a11y/click-events-have-key-events, jsx-a11y/no-noninteractive-element-interactions */}
      <label className={className} htmlFor={closeMenuButtonId} onClick={clickHandler} ref={ref}>
        <MenuIcon {...rest} />
      </label>
    </React.Fragment>
  );
});

export default React.memo(MenuMobileIcon);
