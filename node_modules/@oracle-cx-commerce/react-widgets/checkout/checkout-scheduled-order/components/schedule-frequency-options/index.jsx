/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

import Checkbox from '@oracle-cx-commerce/react-components/checkbox';
import React, {useCallback} from 'react';
import Styled from '@oracle-cx-commerce/react-components/styled';
import css from '@oracle-cx-commerce/react-widgets/checkout/checkout-scheduled-order/components/schedule-frequency-options/styles.css';
import {checkBoxOptions} from '@oracle-cx-commerce/react-widgets/checkout/checkout-scheduled-order/utils';

/**
 * Component to schedule frequency options checkbox for the frequency mode
 * @param {Object} props the properties object
 */
const ScheduleFrequencyOptions = props => {
  const {updateScheduleFrequencyOptions, createSchedulePayload, frequencyType} = props;

  //Function to set schedule frequency options to schedule object of CreateSchedulePayload in parent component
  const checkBoxChange = useCallback(
    event => {
      updateScheduleFrequencyOptions(frequencyType, event.target.checked, event.target.value);
    },
    [frequencyType, updateScheduleFrequencyOptions]
  );

  return (
    <>
      <Styled id="ScheduleFrequencyOptions" css={css}>
        {checkBoxOptions[frequencyType].map(option => (
          <div key={option.id} className="ScheduleFrequencyOptions__CheckBox">
            <Checkbox
              key={option.id}
              id={option.id}
              name={option.id}
              value={option.value}
              defaultChecked={createSchedulePayload.schedule[frequencyType].includes(option.value)}
              labelText={props[option.label]}
              onChange={checkBoxChange}
            />
          </div>
        ))}
      </Styled>
    </>
  );
};
export default React.memo(ScheduleFrequencyOptions);
