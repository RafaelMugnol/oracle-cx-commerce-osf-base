/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */
import React from 'react';
import Styled from '@oracle-cx-commerce/react-components/styled';
import Img from '@oracle-cx-commerce/react-components/img';
import css from '@oracle-cx-commerce/react-widgets/profile/profile-order-history/components/order-thumbnail-images/styles.css';

export const OrderThumbnailImages = props => {
  const maxNumberOfThumbnails = 4;
  const {commerceItems = {}} = props;

  return (
    <Styled id="OrderThumbnailImages" css={css}>
      <div className="OrderThumbnailImages__Container">
        {Object.keys(commerceItems).map(
          (id, index) =>
            (index < maxNumberOfThumbnails - 1 || Object.keys(commerceItems).length === maxNumberOfThumbnails) && (
              <div className="OrderThumbnailImages__Image" key={id}>
                <Img
                  src={
                    (commerceItems[id].childSKUs && commerceItems[id].childSKUs[0].primaryThumbImageURL) ||
                    commerceItems[id].primaryThumbImageURL
                  }
                  alt={commerceItems[id].primaryImageTitle}
                ></Img>
              </div>
            )
        )}
        {Object.keys(commerceItems).length > maxNumberOfThumbnails &&
          Object.keys(commerceItems).length !== maxNumberOfThumbnails && (
            <div className="OrderThumbnailImages__ImageCount">
              {props.textAddtionSymbol}
              {Object.keys(commerceItems).length - maxNumberOfThumbnails + 1}
            </div>
          )}
      </div>
    </Styled>
  );
};
