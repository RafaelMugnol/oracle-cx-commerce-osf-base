/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

import React, {useContext} from 'react';

import {PAGE_ORDER_DETAILS_LINK} from '@oracle-cx-commerce/commerce-utils/constants';
import {ReturnContext} from '@oracle-cx-commerce/react-widgets/contexts';
import Styled from '@oracle-cx-commerce/react-components/styled';
import css from '@oracle-cx-commerce/react-widgets/profile/profile-return-request-order-button/styles.css';
import {useNavigator} from '@oracle-cx-commerce/react-components/link';

/**
 * Displays a button to navigate back to the order-details
 */

const ProfileReturnRequestOrderButton = props => {
  const {returnDetails = {}} = useContext(ReturnContext);
  const {textBacktoOrder} = props;
  const orderInfo = returnDetails.orderInfo || {};
  const goToPage = useNavigator();

  return (
    <Styled id="ProfileReturnRequestOrderButton" css={css}>
      <button
        type="submit"
        aria-label={textBacktoOrder}
        className="secondary ProfileReturnRequestOrderButton"
        onClick={() => goToPage(`${PAGE_ORDER_DETAILS_LINK}/${orderInfo.orderId}`)}
      >
        {textBacktoOrder}
      </button>
    </Styled>
  );
};

export default ProfileReturnRequestOrderButton;
