/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

export const getFrequencyFromSchedule = (schedule, props) => {
  const PERIODIC_SCHEDULE = 'periodic';
  const TOTAL_DAYS_OF_WEEK = 7;
  const TOTAL_WEEKS_IN_MONTH = 5;

  let frequency;

  if (schedule && schedule.scheduleType && schedule.scheduleType === PERIODIC_SCHEDULE) {
    frequency = props.textPeriodicSchedule;
  } else {
    if (
      schedule &&
      schedule.daysOfWeek.length === TOTAL_DAYS_OF_WEEK &&
      schedule.weeksInMonth.length === TOTAL_WEEKS_IN_MONTH
    ) {
      frequency = props.textDailySchedule;
    }
    if (
      schedule &&
      ((schedule.daysOfWeek.length !== 0 && schedule.daysOfWeek.length < TOTAL_DAYS_OF_WEEK) ||
        (schedule.weeksInMonth.length !== 0 && schedule.weeksInMonth.length < TOTAL_WEEKS_IN_MONTH))
    ) {
      frequency = props.textWeeklySchedule;
    }
    if (schedule && schedule.daysInMonth.length === 1 && schedule.monthsInYear.length !== 0) {
      frequency = props.textMonthlySchedule;
    }
  }

  return frequency;
};
