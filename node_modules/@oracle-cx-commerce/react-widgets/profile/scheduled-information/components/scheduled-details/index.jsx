/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */
import React from 'react';
import {useDateFormatter} from '@oracle-cx-commerce/react-components/utils/hooks';
import Styled from '@oracle-cx-commerce/react-components/styled';
import css from '@oracle-cx-commerce/react-widgets/profile/scheduled-information/components/scheduled-details/styles.css';
import {getFrequencyFromSchedule} from '@oracle-cx-commerce/react-widgets/profile/profile-scheduled-order-summary-information/utils';

/**
 * Following component renders schedule Information.
 *
 * @param props
 */

const ScheduledDetails = props => {
  const {
    labelScheduleName,
    labelScheduleEndDate,
    labelScheduleStartDate,
    labelScheduleFrequency,
    labelScheduleSuspendOrder,
    textYes,
    textNo
  } = props;
  const formatDate = useDateFormatter();
  const scheduleInfo = props.scheduleInfo || {};
  const {schedule, name, startDate, endDate, state} = scheduleInfo;
  const frequency = getFrequencyFromSchedule(schedule, {...props});

  return (
    <Styled id="ScheduledDetails" css={css}>
      <div className="ScheduledDetails">
        <div className="ScheduledDetails__Row">
          <div className="ScheduledDetails__ColLabel">
            <span className="ScheduledDetails__Label">{labelScheduleName}</span>
          </div>
          <div className="ScheduledDetails__ColValue">
            <span className="ScheduledDetails__Value">{name}</span>
          </div>
        </div>

        <div className="ScheduledDetails__Row">
          <div className="ScheduledDetails__ColLabel">
            <span className="ScheduledDetails__Label">{labelScheduleStartDate}</span>
          </div>
          <div className="ScheduledDetails__ColValue">
            <span className="ScheduledDetails__Value">{formatDate(new Date(startDate))}</span>
          </div>
        </div>

        <div className="ScheduledDetails__Row">
          <div className="ScheduledDetails__ColLabel">
            <span className="ScheduledDetails__Label">{labelScheduleEndDate}</span>
          </div>
          <div className="ScheduledDetails__ColValue">
            <span className="ScheduledDetails__Value">{endDate ? formatDate(new Date(endDate)) : ''}</span>
          </div>
        </div>

        <div className="ScheduledDetails__Row">
          <div className="ScheduledDetails__ColLabel">
            <span className="ScheduledDetails__Label">{labelScheduleFrequency}</span>
          </div>
          <div className="ScheduledDetails__ColValue">
            <span className="ScheduledDetails__Value">{frequency}</span>
          </div>
        </div>

        <div className="ScheduledDetails__Row">
          <div className="ScheduledDetails__ColLabel">
            <span className="ScheduledDetails__Label">{labelScheduleSuspendOrder}</span>
          </div>
          <div className="ScheduledDetails__ColValue">
            <span className="ScheduledDetails__Value">{state === 'active' ? textNo : textYes}</span>
          </div>
        </div>
      </div>
    </Styled>
  );
};
export default ScheduledDetails;
