/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

/**
 * Fetcher to retrieve the categories (Collections) that are used for the Nav Menu
 *
 * @param {object} store  The Store
 * @param {object} widgetConfig  The widget configuration values
 */
export const fetchMenuCategories = (store, widgetConfig) => {
  const {numberOfChildCategoriesToDisplay = 3, hideCategoryIfOutOfStock = false} = widgetConfig;

  return store.endpoint('getCollectionMenu', {
    categoryId: 'rootCategory',
    filterKey: 'categoryNavData',
    expandChildren: true,
    maxLevel: numberOfChildCategoriesToDisplay,
    disableActiveProdCheck: hideCategoryIfOutOfStock
  });
};
