/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

import {
  CollectionNavCardContext,
  CollectionNavContext
} from '@oracle-cx-commerce/react-widgets/category/collection-navigation/context';
/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */
import React, {useContext} from 'react';

import Heading from '@oracle-cx-commerce/react-widgets/category/collection-navigation/components/heading';
import RootChildCollectionListing from '@oracle-cx-commerce/react-widgets/category/collection-navigation/components/root-child-collection-listing';

/**
 *  Represents the root category and is the default view of the widget
 */
const RootCollectionCard = ({categories}) => {
  const {
    config: {labelShopByDepartment},
    isCardVisible
  } = useContext(CollectionNavContext);

  const context = {category: {childCategories: categories, id: null}, index: -1, isVisible: isCardVisible};

  return (
    <div className="CollectionNavigation_RootCard" aria-hidden={!isCardVisible(context.index)}>
      <CollectionNavCardContext.Provider value={context}>
        <Heading text={labelShopByDepartment} />
        <RootChildCollectionListing />
      </CollectionNavCardContext.Provider>
    </div>
  );
};

RootCollectionCard.propTypes = {};

RootCollectionCard.defaultProps = {};

export default React.memo(RootCollectionCard);
