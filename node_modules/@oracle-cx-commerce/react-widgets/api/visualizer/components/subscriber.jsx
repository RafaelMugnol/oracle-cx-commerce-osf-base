/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */
import React from 'react';
import {trimCompletedActions} from '../utils/index';

const Subscriber = props => {
  const {triggers = [], endpoints = [], actionsSubCategoryMap, endpointsSubCategoryMap, basePageURL} = props;

  return (
    <div className="sub-block">
      <div className="sub-details">
        <div className="schema-intro-details">
          <h2>Endpoints</h2>
          {endpoints.length ? (
            <>
              <ul>
                {endpoints.map(endpoint => (
                  <li key={endpoint}>
                    {endpointsSubCategoryMap.get(endpoint) ? (
                      <a href={`${basePageURL}#endpoints/${endpointsSubCategoryMap.get(endpoint)}/${endpoint}`}>
                        {endpoint}
                      </a>
                    ) : (
                      <span>{endpoint}</span>
                    )}
                  </li>
                ))}
              </ul>
            </>
          ) : (
            ''
          )}
          <h2>Triggered by</h2>
          {triggers.length ? (
            <>
              <ul>
                {triggers.map(action => (
                  <li key={action}>
                    {actionsSubCategoryMap.get(trimCompletedActions(action)) ? (
                      <a
                        href={`${basePageURL}#actions/${actionsSubCategoryMap.get(
                          trimCompletedActions(action)
                        )}/${trimCompletedActions(action)}`}
                      >
                        {action}
                      </a>
                    ) : (
                      <span>{action}</span>
                    )}
                  </li>
                ))}
              </ul>
            </>
          ) : (
            ''
          )}
        </div>
      </div>
    </div>
  );
};
export default Subscriber;
