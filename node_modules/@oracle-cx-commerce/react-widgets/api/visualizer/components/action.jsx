/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */
import React from 'react';
import {t} from '@oracle-cx-commerce/utils/generic';
import SchemaProperties from './schema-properties';

const Action = props => {
  const {inputSchema = {}, outputSchema = {}, endpoints = [], textLabels, endpointsSubCategoryMap, basePageURL} = props;
  const {textEndpoints} = textLabels;

  return (
    <div className="sub-block">
      <div className="sub-details">
        <div className="schema-intro-details">
          <h3>{t(textEndpoints)}</h3>
          {endpoints.length && (
            <>
              <ul>
                {endpoints.map(endpoint => (
                  <li key={endpoint}>
                    {endpointsSubCategoryMap.get(endpoint) ? (
                      <a href={`${basePageURL}#endpoints/${endpointsSubCategoryMap.get(endpoint)}/${endpoint}`}>
                        {endpoint}
                      </a>
                    ) : (
                      <span>{endpoint}</span>
                    )}
                  </li>
                ))}
              </ul>
            </>
          )}
        </div>

        {inputSchema && inputSchema.properties ? (
          <SchemaProperties schema={inputSchema} textLabels={textLabels} schemaType="input" />
        ) : (
          ''
        )}
        {outputSchema && outputSchema.properties ? (
          <SchemaProperties schema={outputSchema} textLabels={textLabels} schemaType="output" />
        ) : (
          ''
        )}
      </div>
    </div>
  );
};

export default Action;
