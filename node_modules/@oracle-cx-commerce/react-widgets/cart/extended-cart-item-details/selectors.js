/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

import {
  getCurrentOrder,
  getCartEndpointStatus,
  hasCartItemsFromMultipleSites,
  getPage,
  getOrder
} from '@oracle-cx-commerce/commerce-utils/selector';

export const getComponentData = state => {
  const orderId = getPage(state).contextId;
  const currentOrder = orderId ? getOrder(state, {id: orderId}) : getCurrentOrder(state);
  const isGetCartInProgress = getCartEndpointStatus(state);
  const displayCartItemSiteInfo = hasCartItemsFromMultipleSites(state, {commerceItems: currentOrder.commerceItems});

  return {
    currentOrder,
    isGetCartInProgress,
    displayCartItemSiteInfo
  };
};
