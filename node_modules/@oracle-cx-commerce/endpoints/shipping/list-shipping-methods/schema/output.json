{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "id": "https://cloud.oracle.com/commerce-cloud/storefront/schemas/wapi-shipping/shippingMethods/output.json",
  "title": "Shipping Methods",
  "description": "List of Shipping Methods",
  "properties": {
    "clientRepository": {
      "type": "object",
      "description": "The Client Repository",
      "properties": {
        "request": {
          "type": "object",
          "description": "The request Object",
          "properties": {
            "shippingMethods": {
              "type": "object",
              "description": "Shipping Methods for all shipping groups",
              "patternProperties": {
                "^[a-zA-Z1-9]+$": {
                  "type": "array",
                  "description": "List of shipping methods for a shipping group",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "error": {
      "type": "object",
      "description": "The error object",
      "properties": {
        "errorCode": {
          "description": "The error code.",
          "type": "string"
        },
        "message": {
          "description": "The error message.",
          "type": "string"
        },
        "status": {
          "description": "The error status.",
          "type": "string"
        }
      }
    },
    "catalogRepository": {
      "type": "object",
      "description": "The Catalog Respoitory",
      "properties": {
        "shippingMethods": {
          "type": "object",
          "description": "The shipping methods object",
          "patternProperties": {
            "^[a-zA-Z1-9]+$": {
              "type": "object",
              "description": "Shipping Method Details",
              "properties": {
                "shippingCalculator": {
                  "description": "a valid key for the available calculator types",
                  "type": "string"
                },
                "eligibleForProductWithSurcharges": {
                  "description": "Whether this shipping method is enabled for products with surcharges or not. Defaults to null.",
                  "type": "boolean"
                },
                "allSites": {
                  "description": "Whether or not it includes all sites in the response.",
                  "type": "boolean"
                },
                "sites": {
                  "description": "List of sites.",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "description": "The site id.",
                        "type": "string"
                      }
                    }
                  }
                },
                "associatedPriceListGroups": {
                  "description": "The associated Price list groups for this Shipping Method.",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "deleted": {
                        "description": "If the price list deleted",
                        "type": "boolean"
                      },
                      "displayName": {
                        "description": "The display name of the price list group.",
                        "type": "string"
                      },
                      "repositoryId": {
                        "description": "The repository Id of the price list group.",
                        "type": "string"
                      },
                      "active": {
                        "description": "If the price list group is active.",
                        "type": "boolean"
                      },
                      "currency": {
                        "description": "The currency of the price list group.",
                        "type": "object",
                        "properties": {
                          "repositoryId": {
                            "description": "The repository ID of the currency.",
                            "type": "string"
                          }
                        }
                      },
                      "id": {
                        "description": "The id of the price list group.",
                        "type": "string"
                      },
                      "locale": {
                        "description": "The locale associated",
                        "type": "string"
                      }
                    }
                  }
                },
                "excludedCategories": {
                  "description": "The excluded categories",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "ranges": {
                  "description": "the price ranges for this shipping method",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "high": {
                        "description": "the upper boundary of the range",
                        "type": "number"
                      },
                      "amount": {
                        "description": "the monetary value for the range",
                        "type": "number"
                      },
                      "low": {
                        "description": "the lower boundary of the range",
                        "type": "number"
                      },
                      "repositoryId": {
                        "description": "the repository id of this priceRange item",
                        "type": "string"
                      },
                      "secondaryCurrencyShippingAmount": {
                        "description": "In case of mix currency, if secondaryCurrencyCode is sent in request, shipping amount will be calculated according to given secondaryCurrencyCode. Else if payShippingInSecondaryCurrency flag is enabled in site repository, shipping amount will be calculated according to site level secondaryCurrencyCode",
                        "type": "string"
                      }
                    }
                  }
                },
                "displayName": {
                  "description": "the display name for the shipping method given the current locale.",
                  "type": "string"
                },
                "id": {
                  "description": "the shipping method id.",
                  "type": "string"
                },
                "displaySequence": {
                  "description": "used to determine the ordering of shipping methods in the UI. Lower values should appear first in any ordered list.",
                  "type": "integer"
                },
                "repositoryId": {
                  "description": "the id of the shipping method item",
                  "type": "string"
                },
                "description": {
                  "description": "The description of shipping group.",
                  "type": "string"
                },
                "type": {
                  "description": "The type property of the shipping method.",
                  "type": "integer"
                },
                "taxCode": {
                  "description": "a valid tax code for calculating tax on shipping.",
                  "type": "string"
                },
                "isExternallyPriced": {
                  "description": "Whether this shipping method can be priced externally or not. Defaults to false.",
                  "type": "boolean"
                },
                "isFallback": {
                  "description": "Use this shipping method when Commerce Cloud cannot connect to an external shipping service. Defaults to false.",
                  "type": "boolean"
                },
                "shippingGroupType": {
                  "description": "The shipping group type.",
                  "type": "string"
                },
                "shipToLocations": {
                  "description": "The array of repository IDs of shipping locations.",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "enabled": {
                  "description": "whether this shipping method is enabled or not.",
                  "type": "boolean"
                }
              }
            }
          }
        }
      }
    }
  },
  "example": {
    "clientRepository": {
      "request": {
        "shippingMethods": {
          "0": [
            "ground",
            "twoDay",
            "overnight"
          ]
        }
      }
    },
    "error": {
      "errorCode": "28081",
      "message": "No items found in cart data",
      "status": "400"
    },
    "catalogRepository": {
      "shippingMethods": {
        "ground": {
          "shippingCalculator": "priceRange",
          "eligibleForProductWithSurcharges": true,
          "isExternallyPriced": false,
          "ranges": [
            {
              "amount": 4.75,
              "high": 14.99,
              "low": 0,
              "repositoryId": "groundRange1"
            },
            {
              "amount": 5.95,
              "high": 49.99,
              "low": 15,
              "repositoryId": "groundRange2"
            },
            {
              "amount": 6.5,
              "high": null,
              "low": 50,
              "repositoryId": "groundRange3"
            }
          ],
          "associatedPriceListGroups": [],
          "displayName": "Ground",
          "description": null,
          "allSites": true,
          "sites": [],
          "taxCode": "FR020400",
          "type": 0,
          "shippingGroupType": "hardgoodShippingGroup",
          "enabled": true,
          "displaySequence": 0,
          "repositoryId": "ground",
          "excludedCategoriesShippingCharge": [],
          "isFallback": false,
          "id": "ground",
          "shipToLocations": [
            {
              "repositoryId": "100001"
            }
          ],
          "excludedCategories": []
        },
        "twoDay": {
          "shippingCalculator": "priceRange",
          "eligibleForProductWithSurcharges": null,
          "isExternallyPriced": false,
          "ranges": [
            {
              "amount": 8.75,
              "high": 14.99,
              "low": 0,
              "repositoryId": "twoDayRange1"
            },
            {
              "amount": 9.95,
              "high": 49.99,
              "low": 15,
              "repositoryId": "twoDayRange2"
            },
            {
              "amount": 10.5,
              "high": null,
              "low": 50,
              "repositoryId": "twoDayRange3"
            }
          ],
          "associatedPriceListGroups": [],
          "displayName": "Two Day",
          "description": null,
          "allSites": true,
          "sites": [],
          "taxCode": "FR020400",
          "type": 0,
          "shippingGroupType": "hardgoodShippingGroup",
          "enabled": true,
          "displaySequence": 1,
          "repositoryId": "twoDay",
          "excludedCategoriesShippingCharge": [],
          "isFallback": false,
          "id": "twoDay",
          "shipToLocations": [
            {
              "repositoryId": "100001"
            },
            {
              "repositoryId": "100002"
            }
          ],
          "excludedCategories": []
        },
        "overnight": {
          "shippingCalculator": "priceRange",
          "eligibleForProductWithSurcharges": null,
          "isExternallyPriced": false,
          "ranges": [
            {
              "amount": 16.4,
              "high": null,
              "low": 0,
              "repositoryId": "overnightRange1"
            }
          ],
          "associatedPriceListGroups": [],
          "displayName": "Overnight",
          "description": null,
          "allSites": true,
          "sites": [],
          "taxCode": "FR020400",
          "type": 0,
          "shippingGroupType": "hardgoodShippingGroup",
          "enabled": true,
          "displaySequence": 2,
          "repositoryId": "overnight",
          "excludedCategoriesShippingCharge": [],
          "isFallback": false,
          "id": "overnight",
          "shipToLocations": [
            {
              "repositoryId": "100001"
            },
            {
              "repositoryId": "100002"
            }
          ],
          "excludedCategories": []
        }
      }
    }
  }
}
