{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "id": "https://cloud.oracle.com/commerce-cloud/storefront/schemas/wapi-organization-member/updateOrganizationMember/output.json",
  "type": "object",
  "title": "Update Member",
  "description": "This operation is used to update customer name, email, role, status of a customer profile and contact dynamic properties.",
  "properties": {
    "profileRepository": {
      "type": "object",
      "description": "The Profile Repository",
      "properties": {
        "profiles": {
          "type": "object",
          "description": "The Profiles",
          "properties": {
            "profile": {
              "type": "object",
              "description": "The Profile",
              "properties": {
                "id": {
                  "description": "The ID of the profile to retrieve.",
                  "type": "string"
                },
                "repositoryId": {
                  "description": "The repository Id",
                  "type": "string"
                },
                "firstName": {
                  "description": "The first name of the profile.",
                  "type": "string"
                },
                "lastName": {
                  "description": "The last name of the profile.",
                  "type": "string"
                },
                "email": {
                  "description": "The email address of the profile.",
                  "type": "string"
                },
                "receiveEmail": {
                  "description": "This is email marketing flag. Can be yes or no.",
                  "type": "string"
                },
                "GDPRProfileP13nConsentGranted": {
                  "description": "If user has given consent for his/her profile information to be used for personalization purposes.",
                  "type": "boolean"
                },
                "GDPRProfileP13nConsentDate": {
                  "description": "The date on which GDPR personalization consent was granted by the user.",
                  "type": "string"
                },
                "gender": {
                  "description": "The gender of the profile user.",
                  "type": "string"
                },
                "locale": {
                  "description": "The locale",
                  "type": "string"
                },
                "roles": {
                  "description": "List of roles assigned to the profile.",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "customerContactId": {
                  "description": "The customer contact Id",
                  "type": "string"
                },
                "derivedOrderPriceLimit": {
                  "description": "The derived order price limit",
                  "type": "string"
                },
                "derivedApprovalRequired": {
                  "description": "The derived approval required",
                  "type": "string"
                },
                "lifetimeCurrencyCode": {
                  "description": "The lifetime currency Code",
                  "type": "string"
                },
                "parentOrganization": {
                  "description": "The parent organisation information.",
                  "type": "string"
                },
                "currentOrganization": {
                  "description": "current organization of the logged in b2b user.",
                  "type": "string"
                },
                "secondaryOrganizations": {
                  "description": "List of secondary organizations appended to the profile.",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "error": {
      "type": "object",
      "description": "The error object",
      "properties": {
        "errorCode": {
          "description": "The error code.",
          "type": "string"
        },
        "message": {
          "description": "The error message.",
          "type": "string"
        },
        "status": {
          "description": "The error status.",
          "type": "string"
        }
      }
    }
  },
  "example": {
    "profileRepository": {
      "profiles": {
        "anonymous": {},
        "123456": {
          "lastName": "Paprocki",
          "GDPRProfileP13nConsentDate": null,
          "customerContactId": null,
          "GDPRProfileP13nConsentGranted": false,
          "derivedOrderPriceLimit": 60,
          "roles": ["100002", "100013"],
          "receiveEmail": "no",
          "active": true,
          "locale": "en",
          "receiveEmailDate": null,
          "firstName": "Lenna",
          "profileType": "b2b_user",
          "lifetimeCurrencyCode": null,
          "repositoryId": "bb-110000",
          "firstVisitDate": null,
          "id": "bb-110000",
          "email": "lpaprocki@example.com",
          "parentOrganization": "or-100001"
        }
      },
      "organizations": {
        "or-100001": {
          "taxReferenceNumber": "901-70-7000",
          "organizationLogo": null,
          "delegateApprovalManagement": true,
          "source": null,
          "type": "company",
          "parentOrganization": null,
          "customerType": "Standard",
          "derivedBillingAddressType": "Address2",
          "links": [
            {
              "rel": "self",
              "href": "http://localhost:8080/ccstore/v1/organizations/or-100001"
            }
          ],
          "id": "or-100001",
          "relativeRoles": [
            "100001",
            "100002",
            "100013",
            "100019",
            "100020"
          ],
          "dunsNumber": "213456178",
          "derivedUseAllPaymentMethodsFromSite": true,
          "derivedTaxReferenceNumber": "901-70-7000",
          "derivedCustomerType": "Standard",
          "active": true,
          "vatReferenceNumber": null,
          "taxExemptionCode": null,
          "derivedType": "company",
          "useAllShippingMethodsFromSite": true,
          "derivedTaxExemptionCode": null,
          "approvalRequired": true,
          "derivedVatReferenceNumber": null,
          "punchoutUserId": null,
          "name": "National Discount Auto Parts",
          "uniqueId": null,
          "description": null,
          "derivedUniqueId": null,
          "organizationLogoURL": null,
          "paymentMethods": [],
          "derivedShippingAddressType": "Address2",
          "shippingMethods": [],
          "derivedDunsNumber": "213456178",
          "derivedOrganizationLogo": null,
          "orderPriceLimit": 50,
          "derivedUseAllShippingMethodsFromSite": true,
          "useAllPaymentMethodsFromSite": true,
          "derivedDescription": null,
          "useExternalApprovalWebhook": false
        }
      },
      "roles": {
        "100001": {
          "function": "admin",
          "relativeTo": "or-100001",
          "repositoryId": "100001"
        },
        "100002": {
          "function": "buyer",
          "relativeTo": "or-100001",
          "repositoryId": "100002"
        },
        "100013": {
          "function": "approver",
          "relativeTo": "or-100001",
          "repositoryId": "100013"
        },
        "100019": {
          "function": "accountAddressManager",
          "relativeTo": "or-100001",
          "repositoryId": "100019"
        },
        "100020": {
          "function": "profileAddressManager",
          "relativeTo": "or-100001",
          "repositoryId": "100020"
        }
      }
    },
    "error": {
      "errorCode": "1000500",
      "message": "Invalid input",
      "status": "500"
    }
  }
}
