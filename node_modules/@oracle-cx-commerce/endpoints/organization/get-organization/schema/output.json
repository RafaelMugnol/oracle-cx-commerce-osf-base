{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "id": "https://cloud.oracle.com/commerce-cloud/storefront/schemas/wapi-organization/getOrganization/output.json",
  "title": "Get organization",
  "description": "Following model is returned when the get organization operation responds",
  "type": "object",
  "properties": {
    "profileRepository": {
      "type": "object",
      "description": "Profile Repository",
      "properties": {
        "organizations": {
          "description": "Get organization",
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z1-9]+$": {
              "taxReferenceNumber": {
                "description": "Tax Reference number for Organization",
                "type": "string"
              },
              "organizationLogo": {
                "description": "File path of organization logo.",
                "type": "string"
              },
              "delegateApprovalManagement": {
                "description": "This flag indicates if the delegated admin has the provision of approval management, if set merchant admin cannot do any approval management.",
                "type": "boolean"
              },
              "active": {
                "description": "Active status of an Organization. Should be true or false. By default the value is set to true",
                "type": "boolean"
              },
              "vatReferenceNumber": {
                "description": "Vat reference number for the organization",
                "type": "string"
              },
              "orderPriceLimit": {
                "description": "Order Price Limit Value for an organization",
                "type": "number"
              },
              "customerType": {
                "description": "Customer Type for Organization",
                "type": "string"
              },
              "organizationLogoURL": {
                "description": "Full URL of organization logo.",
                "type": "string"
              },
              "approvalRequired": {
                "description": "Approval flag is required for the organization, by default it is set to false",
                "type": "boolean"
              },
              "name": {
                "description": "The name for Organization",
                "type": "string"
              },
              "repositoryId": {
                "description": "Repository Id of the Organization",
                "type": "string"
              },
              "id": {
                "description": "Id of the Organization",
                "type": "string"
              },
              "useExternalApprovalWebhook": {
                "description": "Flag to enable/disable Order Approval check from External Webhook",
                "type": "boolean"
              },
              "dunsNumber": {
                "description": "DUNS Number for Organization",
                "type": "string"
              },
              "relativeRoles": {
                "description": "List of organization roles.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "uniqueId": {
                "description": "Unique Id of the Organization",
                "type": "string"
              },
              "useAllShippingMethodsFromSite": {
                "description": "Flag to use all the shipping methods available for site.",
                "type": "string"
              },
              "derivedUseAllPaymentMethodsFromSite": {
                "description": "Derived flag to use all the payment methods available for site.",
                "type": "boolean"
              },
              "derivedUseAllShippingMethodsFromSite": {
                "description": "Derived flag to use all the shipping methods available for site.",
                "type": "string"
              }
            }
          }
        },
        "roles": {
          "description": "List of relative roles part of organization",
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z1-9]+$": {
              "function": {
                "description": "Roles corresponding to relativeTo organization",
                "type": "string"
              },
              "relativeTo": {
                "description": "Role relative to organization",
                "type": "string"
              },
              "repositoryId": {
                "description": "Id of role",
                "type": "string"
              }
            }
          }
        }
      }
    },
    "error": {
      "type": "object",
      "description": "The error object",
      "properties": {
        "errorCode": {
          "description": "The error code.",
          "type": "string"
        },
        "errorMessage": {
          "description": "The error message.",
          "type": "string"
        },
        "status": {
          "description": "The error status.",
          "type": "string"
        }
      }
    }
  },
  "example": {
    "profileRepository": {
      "organizations": {
        "or-100001": {
          "taxReferenceNumber": "901-70-7000",
          "organizationLogo": null,
          "delegateApprovalManagement": true,
          "source": null,
          "type": "company",
          "parentOrganization": null,
          "customerType": "Standard",
          "derivedBillingAddressType": "Address2",
          "links": [
            {
              "rel": "self",
              "href": "http://localhost:8080/ccstore/v1/organizations/or-100001"
            }
          ],
          "id": "or-100001",
          "relativeRoles": [
            "100001",
            "100002",
            "100013",
            "100019",
            "100020"
          ],
          "dunsNumber": "213456178",
          "derivedUseAllPaymentMethodsFromSite": true,
          "derivedTaxReferenceNumber": "901-70-7000",
          "derivedCustomerType": "Standard",
          "active": true,
          "vatReferenceNumber": null,
          "taxExemptionCode": null,
          "derivedType": "company",
          "useAllShippingMethodsFromSite": true,
          "derivedTaxExemptionCode": null,
          "approvalRequired": true,
          "derivedVatReferenceNumber": null,
          "punchoutUserId": null,
          "name": "National Discount Auto Parts",
          "uniqueId": null,
          "description": null,
          "derivedUniqueId": null,
          "organizationLogoURL": null,
          "paymentMethods": [],
          "derivedShippingAddressType": "Address2",
          "shippingMethods": [],
          "derivedDunsNumber": "213456178",
          "derivedOrganizationLogo": null,
          "orderPriceLimit": 50,
          "derivedUseAllShippingMethodsFromSite": true,
          "useAllPaymentMethodsFromSite": true,
          "derivedDescription": null,
          "useExternalApprovalWebhook": false
        }
      },
      "roles": {
        "100001": {
          "function": "admin",
          "relativeTo": "or-100001",
          "repositoryId": "100001"
        },
        "100002": {
          "function": "buyer",
          "relativeTo": "or-100001",
          "repositoryId": "100002"
        },
        "100013": {
          "function": "approver",
          "relativeTo": "or-100001",
          "repositoryId": "100013"
        },
        "100019": {
          "function": "accountAddressManager",
          "relativeTo": "or-100001",
          "repositoryId": "100019"
        },
        "100020": {
          "function": "profileAddressManager",
          "relativeTo": "or-100001",
          "repositoryId": "100020"
        }
      }
    },
    "error": {
      "errorCode": "1000500",
      "errorMessage": "Invalid input",
      "status": "500"
    }
  }
}
