/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

/**
 * SKUs arrive in a number of different ways from the server.  This function converts those into a
 * common format.
 *
 * @param input an array of SKUs, or an object containing an array of child SKUs, or a single SKU.
 * @returns {*} a map keyed by SKU IDs, containing SKU objects.
 */
export const convertToSkuMap = input => {
  if (!Array.isArray(input)) {
    console.error('Unexpected input to function convertToSkuMap.');

    return {};
  }

  return input.reduce((current, item) => {
    current[item.skuId || item.repositoryId] = item;

    return current;
  }, {});
};
