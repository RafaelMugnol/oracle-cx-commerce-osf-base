{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "id": "https://cloud.oracle.com/commerce-cloud/storefront/schemas/wapi-merchant-settings/getShopperSettings/output.json",
  "title": "get Shopper Settings",
  "description": "retrieves global and site level shopper settings",
  "type": "object",
  "properties": {
    "success": {
      "type": "object",
      "description": "The error object",
      "properties": {
        "merchantRepository": {
          "type": "object",
          "description": "The Merchant Repository.",
          "properties": {
            "shopperSettings": {
              "type": "object",
              "description": "The shopper Settings.",
              "properties": {
                "selfRegistrationEnabled": {
                  "description": "Set the flag to true if Self Registration is required.",
                  "type": "boolean"
                },
                "passwordExpirationEnabled": {
                  "description": "Applies the password expiration constraint.",
                   "type": "boolean"
                },
                "passwordExpirationLength": {
                  "description": "number of days after which the current password of the shopper will automatically expire.",
                  "type": "integer"
                },
                "sessionTimeoutEnabled": {
                  "description": "Applies the session timeout length constraint.",
                  "type": "boolean"
                },
                "guestCheckoutEnabled": {
                  "description": "Applies the authorization for anonymous shoppers to sign-in to complete checkout.",
                  "type": "boolean"
                },
                "sessionTimeoutLength": {
                  "description": "Timeout duration for all shopper sessions.",
                  "type": "integer"
                },
                "softLoginEnabled": {
                  "description": "true if SoftLogin is enabled.",
                  "type": "boolean"
                },
                "passwordPolicies": {
                  "description": "Constraints that must be statisfied by password.",
                  "type": "object",
                  "properties": {
                    "useNumber": {
                      "description": "Password must include a number.",
                      "type": "boolean"
                    },
                    "allowedSymbols": {
                      "description": "List of symboles allowed in Password.",
                      "type": "string"
                    },
                    "numberOfPreviousPasswords": {
                      "description": "password should not have been used as previous N passwords for the given shopper user.",
                      "type": "integer"
                    },
                    "cannotUseUsername": {
                      "description": "Password must not be the same as their Username.",
                      "type": "boolean"
                    },
                    "useMinPasswordLength": {
                      "description": "Applies the minimum password length constraint.",
                      "type": "boolean"
                    },
                    "minPasswordLength": {
                      "description": "Minimum length of the password.",
                      "type": "integer"
                    },
                    "useMixedCase": {
                      "description": "Applies the usage of capital letters in user password..",
                      "type": "boolean"
                    },
                    "blockCommonPasswords": {
                      "description": "Block the Use of Commonly Chosen Passwords and Weak Passphrases.",
                      "type": "boolean"
                    },
                    "cannotUsePreviousPasswords": {
                      "description": "Applies the previous password usage constraint.",
                      "type": "boolean"
                    },
                    "useSymbol": {
                      "description": "Applies the usage of symbol in user password.",
                      "type": "boolean"
                    }
                  }
                },
                "siteLevelOverrides": {
                  "description": "site specific settings.",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "siteId": {
                        "description": "Site ID of the site.",
                        "type": "string"
                      },
                      "sessionTimeoutEnabled": {
                        "description": "Applies the session timeout length constraint.",
                        "type": "boolean"
                      },
                      "guestCheckoutEnabled": {
                        "description": "Applies the authorization for anonymous shoppers to sign-in to complete checkout.",
                        "type": "boolean"
                      },
                      "sessionTimeoutLength": {
                        "description": "Timeout duration for all shopper sessions.",
                        "type": "integer"
                      },
                      "softLoginEnabled": {
                        "description": "true if SoftLogin is enabled.",
                        "type": "boolean"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "error": {
          "type": "object",
          "description": "The error object",
          "properties": {
            "errorCode": {
              "description": "The error code.",
              "type": "string"
            },
            "message": {
              "description": "The error message.",
              "type": "string"
            },
            "status": {
              "description": "The error status.",
              "type": "string"
            }
          }
        }
      }
    }
  },
  "example": {
    "merchantRepository": {
      "shopperSettings": {
        "sessionTimeoutEnabled": true,
        "guestCheckoutEnabled": true,
        "selfRegistrationEnabled": false,
        "passwordExpirationEnabled": false,
        "sessionTimeoutLength": 15,
        "softLoginEnabled": true,
        "passwordPolicies": {
          "useNumber": true,
          "allowedSymbols": "~!@#$%^&*()_-+={}[]|:;<>,./?",
          "numberOfPreviousPasswords": 3,
          "cannotUseUsername": true,
          "useMinPasswordLength": true,
          "minPasswordLength": 8,
          "useMixedCase": false,
          "blockCommonPasswords": false,
          "cannotUsePreviousPasswords": false,
          "useSymbol": false
        },
        "passwordExpirationLength": 90
      }
    }
  }
}