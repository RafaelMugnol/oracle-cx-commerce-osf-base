{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "id": "https://cloud.oracle.com/commerce-cloud/storefront/schemas/wapi-recommendationStrategy/getRecommendationStrategy/output.json",
  "title": "Get RecommendationStrategy",
  "description": "Following model is returned when the get RecommendationsStrategy operation responds.",
  "type": "object",
  "properties": {
    "recommendationsRepository": {
      "type": "object",
      "description": "Recommendations Repository",
      "properties": {
        "preview": {
          "type": "object",
          "description": "Container for Global Rules and Strategies in preview",
          "properties": {
            "strategies": {
              "type": "object",
              "description": "RecommendationStrategy map",
              "patternProperties": {
                "^[a-zA-Z1-9]+$": {
                  "type": "object",
                  "description": "The RecommendationStrategy id",
                  "properties": {
                    "recommendationGroups": {
                      "description": "The recommendationGroups for the RecommendationStrategy.",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "numRecs": {
                            "description": "The number of recs to be returned by this recommendation group.",
                            "type": "integer"
                          },
                          "conditions": {
                            "description": "The conditions for the RecommendationStrategy.",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "priceType": {
                                  "description": "The price type. This is only valid when the condition requires a price type to be specified. For example, a priceType is required for a condition with id notSpecifiedPriceType.",
                                  "type": "string"
                                },
                                "range": {
                                  "minItems":2,
                                  "maxItems":2,
                                  "description": "The price range used for evaluating the condition. This is only valid when the condition requires a range to be specified. For example, a range is required for a condition with id priceNotBetween.",
                                  "type": "array",
                                  "items": {
                                    "description": "Two numbers >= 0 with the first being lower than the second. This represents a price range.",
                                    "type": "number"
                                  }
                                },
                                "currency": {
                                  "description": "The currency used for evaluating the condition. This is only valid when the condition requires a currency to be specified. For example, a currency is required for a condition with id priceGT.",
                                  "type": "string"
                                },
                                "id": {
                                  "description": "The id of the condition. This identifies the type of condition. Some examples of condition ids are: notCurrentBrand, notSpecifiedCollection, priceNotBetween.",
                                  "type": "string"
                                },
                                "collection": {
                                  "description": "The product collection. This is only valid when the condition requires a collection to be specified. For example, a collection is required for a condition with id notSpecifiedCollection.",
                                  "type": "string"
                                },
                                "locale": {
                                  "description": "The locale used for evaluating the condition. This is only valid when the condition requires a locale to be specified. For example, a locale is required for a condition with id notSpecifiedBrand.",
                                  "type": "string"
                                },
                                "brand": {
                                  "description": "The product brand. This is only valid when the condition requires a brand to be specified. For example, brand is required for the condition with id notSpecifiedBrand.",
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "displayName": {
                      "description": "The display name for the RecommendationStrategy.",
                      "type": "string"
                    },
                    "description": {
                      "description": "The description for the RecommendationStrategy.",
                      "type": "string"
                    },
                    "id": {
                      "description": "The id of the RecommendationStrategy.",
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "error": {
      "$ref": "@oracle-cx-commerce/endpoints/references/error.json#/error"
    }
 },
  "example": {
    "recommendationsRepository": {
      "preview": {
        "strategies": {
          "oneMidRangeShirtAndTwoPants": {
            "recommendationGroups": [
              {
                "numRecs": 1,
                "conditions": [
                  {
                    "id": "specifiedCollection",
                    "collection": "Shirts"
                  },
                  {
                    "range": [
                      50,
                      100
                    ],
                    "currency": "USD",
                    "id": "priceBetween"
                  }
                ]
              },
              {
                "numRecs": 2,
                "conditions": [
                  {
                    "id": "specifiedCollection",
                    "collection": "Pants"
                  }
                ]
              }
            ],
            "displayName": "One Mid-Range Shirt and Two Pants",
            "description": "This is a description of oneMidRangeShirtAndTwoPants",
            "id": "oneMidRangeShirtAndTwoPants"
          }
        }
      }
    },
    "error": {
      "errorCode": "52006",
      "errorMessage": "A non-empty Strategy ID is required.",
      "status": "404"
    }
  }
}
