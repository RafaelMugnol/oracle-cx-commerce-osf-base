{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://cloud.oracle.com/commerce-cloud/storefront/schemas/wapi-currency/get-currency/output.json",
  "title": "Search",
  "description": "Return value from search endpoint.",
  "type": "object",
  "properties": {
    "clientRepository": {
      "description": "Repository containing information specific to the client application",
      "type": "object",
      "properties": {
        "context": {
          "description": "Object containing various contextual information",
          "type": "object",
          "properties": {
            "request": {
              "description": "Object with properties associated with the current request",
              "type": "object",
              "properties": {
                "search": {
                  "description": "The current Guided Search URL",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "searchRepository": {
      "description": "Repository containing information associated with Guided Search",
      "type": "object",
      "properties": {
        "pages": {
          "description": "Map of search results, keyed by Guided Search URL",
          "type": "object",
          "patternProperties": {
            "<url>": {
              "description": "The results of a Guided Search query",
              "type": "object",
              "properties": {
                "facets": {
                  "description": "Information about available facets (See https://docs.oracle.com/cd/E70265_01/tools.11-3/tools.api/navigation/com/endeca/infront/cartridge/NavigationContainer.html)",
                  "type": "object"
                },
                "breadcrumbs": {
                  "description": "Information about search breadcrumbs (See https://docs.oracle.com/cd/E70265_01/tools.11-3/tools.api/navigation/com/endeca/infront/cartridge/Breadcrumbs.html)",
                  "type": "object"
                },
                "results": {
                  "description": "Information about search results (See https://docs.oracle.com/cd/E70265_01/tools.11-3/tools.api/navigation/com/endeca/infront/cartridge/ResultsList.html)",
                  "type": "object"
                },
                "searchAdjustments": {
                  "description": "Information about adjustments that were made to the search (See https://docs.oracle.com/cd/E70265_01/tools.11-3/tools.api/navigation/com/endeca/infront/cartridge/SearchAdjustments.html)",
                  "type": "object"
                },
                "searchEventSummary": {
                  "description": "Summary information about the search",
                  "type": "object"
                },
                "@type": {
                  "description": "The type of the search service (always set to 'GuidedSearchService')",
                  "type": "string"
                },
                "@appFilterState": {
                  "description": "A string representation of the filters applied to the search (See https://docs.oracle.com/cd/E70265_01/tools.11-3/tools.api/navigation/com/endeca/infront/navigation/model/FilterState.html)",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "example": {
    "clientRepository": {
      "context": {
        "request": {
          "search": "/search/dining-tables/_/N-2539258354+2359693022"
        }
      }
    },
    "searchRepository": {
      "pages": {
        "/search/dining-tables/_/N-2539258354+2359693022": {
          "@appFilterState": "{_auditInfo={resourcePath=/pages/Default/osf/catalog, innerPath=@appFilterState}, hiddenNavigationFilter=2992132998, securityFilter=null, @type=FilterState, recordFilters=[product.active:1, sku.active:1, product.catalogId:cloudCatalog], rollupKey=sku.listingId}",
          "@type": "GuidedSearchService",
          "facets": {
            "@type": "NavigationContainer",
            "_auditInfo": {
              "resourcePath": "/pages/Default/osf/catalog",
              "innerPath": "facets"
            },
            "navigation": [],
            "showAll": true
          },
          "breadcrumbs": {
            "@type": "Breadcrumbs",
            "_auditInfo": {
              "resourcePath": "/pages/Default/osf/catalog",
              "innerPath": "breadcrumbs"
            },
            "rangeFilterCrumbs": [],
            "searchCrumbs": [],
            "removeAllAction": {
              "link": ""
            },
            "refinementCrumbs": [
              {
                "removeAction": {
                  "link": "/_/N-2359693022"
                },
                "displayName": "Category",
                "count": 1,
                "label": "Dining Tables",
                "ancestors": [
                  {
                    "link": "/for-the-home/_/N-2359693022+382640515",
                    "label": "For the Home",
                    "properties": {
                      "dimval.prop.category.repositoryId": "homeStoreRootCategory",
                      "DGraph.Spec": "rootCategory.homeStoreRootCategory",
                      "dimval.prop.category.ancestorCatalogIds": "cloudCatalog",
                      "record.urn": "urn:/cloud/dimvals/product.category/product.category:rootCategory.homeStoreRootCategory",
                      "dimval.prop.displayName_en": "For the Home",
                      "record.collection": "product.category",
                      "record.id": "atgrep:/ProductCatalog_production/category/homeStoreRootCategory?categoryPath=/rootCategory/homeStoreRootCategory"
                    }
                  },
                  {
                    "link": "/tables/_/N-2359693022+1560974785",
                    "label": "Tables",
                    "properties": {
                      "dimval.prop.category.repositoryId": "homeStoreTables",
                      "DGraph.Spec": "rootCategory.homeStoreRootCategory.homeStoreTables",
                      "dimval.prop.category.ancestorCatalogIds": "cloudCatalog",
                      "record.urn": "urn:/cloud/dimvals/product.category/product.category:rootCategory.homeStoreRootCategory.homeStoreTables",
                      "dimval.prop.displayName_en": "Tables",
                      "record.collection": "product.category",
                      "record.id": "atgrep:/ProductCatalog_production/category/homeStoreTables?categoryPath=/rootCategory/homeStoreRootCategory/homeStoreTables"
                    }
                  }
                ],
                "dimensionName": "product.category",
                "properties": {
                  "dimval.prop.category.repositoryId": "homeStoreTablesDining",
                  "DGraph.Spec": "rootCategory.homeStoreRootCategory.homeStoreTables.homeStoreTablesDining",
                  "dimval.prop.category.ancestorCatalogIds": "cloudCatalog",
                  "record.urn": "urn:/cloud/dimvals/product.category/product.category:rootCategory.homeStoreRootCategory.homeStoreTables.homeStoreTablesDining",
                  "dimval.prop.displayName_en": "Dining Tables",
                  "record.collection": "product.category",
                  "record.id": "atgrep:/ProductCatalog_production/category/homeStoreTablesDining?categoryPath=/rootCategory/homeStoreRootCategory/homeStoreTables/homeStoreTablesDining"
                },
                "multiSelect": false
              },
              {
                "removeAction": {
                  "link": "/dining-tables/_/N-2539258354"
                },
                "displayName": "Price Range",
                "count": 1,
                "label": "$800.00 - $899.99",
                "ancestors": [
                  {
                    "link": "/dining-tables/_/N-2539258354+3466240715",
                    "label": "$0.00 - $999.99",
                    "properties": {
                      "DGraph.Spec": "defaultPriceGroup:r0-1000",
                      "dimval.prop.lowerBound": "0.0",
                      "record.urn": "urn:/cloud/dimvals/product.priceRange/product.priceRange@priceGroup:defaultPriceGroup:r0-1000",
                      "dimval.match_type": "range",
                      "dimval.prop.displayName_en_US": "$0.00 - $999.99",
                      "record.collection": "product.priceRange",
                      "dimval.prop.upperBound": "1000.0",
                      "dimval.range.comparison_type": "decimal",
                      "record.id": "product.priceRange@priceGroup:defaultPriceGroup:r0-1000"
                    }
                  }
                ],
                "dimensionName": "product.priceRange",
                "properties": {
                  "DGraph.Spec": "defaultPriceGroup:r800-900",
                  "dimval.prop.lowerBound": "800.0",
                  "record.urn": "urn:/cloud/dimvals/product.priceRange/product.priceRange@priceGroup:defaultPriceGroup:r800-900",
                  "dimval.match_type": "range",
                  "dimval.prop.displayName_en_US": "$800.00 - $899.99",
                  "record.collection": "product.priceRange",
                  "dimval.prop.upperBound": "900.0",
                  "dimval.range.comparison_type": "decimal",
                  "record.id": "product.priceRange@priceGroup:defaultPriceGroup:r800-900"
                },
                "multiSelect": false
              }
            ]
          },
          "results": {
            "@type": "ResultsList",
            "_auditInfo": {
              "resourcePath": "/pages/Default/osf/catalog",
              "innerPath": "results"
            },
            "pagingActionTemplate": {
              "link": "/dining-tables/_/N-2539258354+2359693022?No=%7Boffset%7D&Nrpp=%7BrecordsPerPage%7D"
            },
            "maxChildRecords": -1,
            "lastRecNum": 1,
            "rankingRules": {
              "merchRulePaths": [
                "/content/rankingRules"
              ],
              "systemRulePaths": [
                "/content/system/rankingRules"
              ],
              "systemRuleLimit": 10
            },
            "records": [
              {
                "detailsAction": {
                  "recordState": "/_/A-urn%3A%2Fcloud%2Fdata%2Fcatalog%2Fsku-Tables-xsku2023__1..xprod2023"
                },
                "records": [
                  {
                    "detailsAction": {
                      "recordState": "/_/R-urn%3A%2Fcloud%2Fdata%2Fcatalog%2Fsku-Tables-xsku2023__1..xprod2023"
                    },
                    "numRecords": 0,
                    "attributes": {
                      "sku.activePrice": [
                        "899.000000"
                      ],
                      "sku.listPrice": [
                        "899.000000"
                      ]
                    }
                  }
                ],
                "numRecords": 1,
                "attributes": {
                  "product.repositoryId": [
                    "xprod2023"
                  ],
                  "product.route": [
                    "/oval-dining-table/product/xprod2023"
                  ],
                  "sku.maxActivePrice": [
                    "899.000000"
                  ],
                  "product.primaryFullImageURL": [
                    "/ccstore/v1/images/?source=/file/v7551253824464338436/products/TABLE_OvalDiningTable_full.jpg"
                  ],
                  "sku.listingId": [
                    "xprod2023"
                  ],
                  "sku.repositoryId": [
                    "xsku2023_1"
                  ],
                  "product.displayName": [
                    "Oval Dining Table"
                  ],
                  "product.primaryImageAltText": [
                    "Oval Dining Table"
                  ],
                  "sku.minActivePrice": [
                    "899.000000"
                  ],
                  "record.id": [
                    "urn:/cloud/data/catalog/sku-Tables-xsku2023__1..xprod2023"
                  ]
                }
              }
            ],
            "totalNumRecs": 1,
            "sortOptions": [],
            "firstRecNum": 1,
            "precomputedSorts": [],
            "recsPerPage": 16
          },
          "searchAdjustments": {
            "@type": "SearchAdjustments",
            "_auditInfo": {
              "resourcePath": "/pages/Default/osf/catalog",
              "innerPath": "searchAdjustments"
            }
          },
          "searchEventSummary": {
            "@type": "AssemblerRequestEvent",
            "context": {
              "priceGroup": [
                "defaultPriceGroup"
              ],
              "catalogId": [
                "cloudCatalog"
              ],
              "locale": [
                "en"
              ],
              "catalogDimensionValueId": [
                "2992132998"
              ]
            },
            "facetFilters": [
              {
                "id": "2539258354",
                "dimensionName": "product.category",
                "spec": "rootCategory.homeStoreRootCategory.homeStoreTables.homeStoreTablesDining"
              },
              {
                "id": "2359693022",
                "dimensionName": "product.priceRange",
                "spec": "defaultPriceGroup:r800-900"
              }
            ],
            "requestType": "N",
            "resultsSummary": [
              {
                "component": "/pages/Default/osf/catalog#results",
                "offset": 0,
                "records": [
                  {
                    "sku.listingId": "xprod2023",
                    "record.id": "urn:/cloud/data/catalog/sku-Tables-xsku2023__1..xprod2023"
                  }
                ],
                "totalMatchingRecords": 1
              }
            ]
          }
        }
      }
    }
  }
}
