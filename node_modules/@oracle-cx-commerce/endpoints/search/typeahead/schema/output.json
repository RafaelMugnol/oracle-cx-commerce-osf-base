{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "$id": "https://cloud.oracle.com/commerce-cloud/storefront/schemas/wapi-currency/get-currency/output.json",
  "title": "Typeahead",
  "description": "Return value from typeahead endpoint.",
  "type": "object",
  "properties": {
    "searchRepository": {
      "description": "Repository containing information associated with Guided Search",
      "type": "object",
      "properties": {
        "typeaheadSearchResults": {
          "description": "The results of a typeahead Guided Search query",
          "type": "object",
          "properties": {
            "results": {
              "description": "Information about search results (See https://docs.oracle.com/cd/E70265_01/tools.11-3/tools.api/navigation/com/endeca/infront/cartridge/ResultsList.html)",
              "type": "object"
            },
            "searchEventSummary": {
              "description": "Summary information about the search",
              "type": "object"
            },
            "_auditInfo": {
              "description": "Additional information about the search",
              "type": "object"
            },
            "name": {
              "description": "The name of the search service",
              "type": "string"
            },
            "@type": {
              "description": "The type of the search service",
              "type": "string"
            },
            "@appFilterState": {
              "description": "A string representation of the filters applied to the search (See https://docs.oracle.com/cd/E70265_01/tools.11-3/tools.api/navigation/com/endeca/infront/navigation/model/FilterState.html)",
              "type": "string"
            }
          }
        }
      }
    }
  },
  "example": {
    "searchRepository": {
      "typeaheadSearchResults": {
        "@appFilterState": "{_auditInfo={resourcePath=/pages/Default/keywords/typeahead, innerPath=@appFilterState}, securityFilter=null, hiddenNavigationFilter=null, @type=FilterState, recordFilters=[OR(record.collection:keywords,record.collection:internal-keywords)], typeAhead=true}",
        "@type": "KeywordSearchService",
        "_auditInfo": {
          "resourcePath": "/pages/Default/keywords/typeahead",
          "requestId": "160676897796103639",
          "configTimestamp": "1606760625889"
        },
        "name": "Keyword Search Service",
        "resultsList": {
          "@type": "ResultsList",
          "_auditInfo": {
            "resourcePath": "/pages/Default/keywords/typeahead",
            "innerPath": "resultsList"
          },
          "pagingActionTemplate": {
            "link": "?No=%7Boffset%7D&Nrpp=%7BrecordsPerPage%7D&Ntk=keywords&Ntt=boot"
          },
          "lastRecNum": 3,
          "records": [
            {
              "detailsAction": {
                "recordState": "/_/R-urn%3A%2Fcloud%2Fdata%2Fkeywords%2Fkw%3Aboots"
              },
              "numRecords": 0,
              "attributes": {
                "keyword.score": [
                  "8000.000000"
                ],
                "keyword.terms": [
                  "boots"
                ],
                "record.id": [
                  "kw:boots"
                ]
              }
            },
            {
              "detailsAction": {
                "recordState": "/_/R-urn%3A%2Fcloud%2Fdata%2Fkeywords%2Fkw%3Awomens_boots"
              },
              "numRecords": 0,
              "attributes": {
                "keyword.score": [
                  "7000.000000"
                ],
                "keyword.terms": [
                  "women's boots"
                ],
                "record.id": [
                  "kw:womens_boots"
                ]
              }
            },
            {
              "detailsAction": {
                "recordState": "/_/R-urn%3A%2Fcloud%2Fdata%2Fkeywords%2Fkw%3Amens_boots"
              },
              "numRecords": 0,
              "attributes": {
                "keyword.score": [
                  "3000.000000"
                ],
                "keyword.terms": [
                  "men's boots"
                ],
                "record.id": [
                  "kw:mens_boots"
                ]
              }
            }
          ],
          "totalNumRecs": 3,
          "sortOptions": [],
          "firstRecNum": 1,
          "precomputedSorts": [],
          "recsPerPage": 5
        },
        "searchEventSummary": {
          "@type": "AssemblerRequestEvent",
          "requestType": "TA",
          "relRankStrategy": "static(keyword.score,descending)",
          "context": {
            "priceGroup": [
              "defaultPriceGroup"
            ],
            "navCatalogId": [
              "cloudCatalog"
            ],
            "catalogId": [
              "cloudCatalog"
            ],
            "catalogDimensionValueId": [
              "2992132998"
            ],
            "siteId": [
              "siteUS"
            ],
            "locale": [
              "en"
            ]
          }
        }
      }
    }
  }
}
