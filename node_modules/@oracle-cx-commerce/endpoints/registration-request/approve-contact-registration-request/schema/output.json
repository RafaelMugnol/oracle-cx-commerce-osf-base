{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "id": "https://cloud.oracle.com/commerce-cloud/storefront/schemas/wapi-registration-request/approveContactRegistrationRequest/output.json",
  "title": "Approve Contact Request",
  "description": "Approve Contact Request. Contact request status is updated to ProfileRepository: contactRequests:{contactRequestId:...}.",
  "type": "object",
  "properties": {
    "profileRepository": {
      "type": "object",
      "description": "The Profile Repository",
      "properties": {
        "contactRequests": {
          "type": "object",
          "description": "Contact Requests",
          "patternProperties": {
            "^[a-zA-Z1-9]+$": {
              "description": "List of Contact Requests",
              "type": "object",
              "properties": {
                "approvedBy": {
                  "description": "Approver Information.",
                  "type": "string"
                },
                "approvedSource": {
                  "description": "Approved Source.",
                  "type": "string"
                },
                "approverComments": {
                  "description": "Approver Comments.",
                  "type": "string"
                },
                "lastModifiedTime": {
                  "description": "Last Modified Time.",
                  "type": "string"
                },  
                "createdTime": {
                  "description": "Request created time.",
                  "type": "string"
                },
                "organization": {
                  "description": "Organization.",
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "Id of the Organization.",
                      "type": "string"
                    }
                  }
                },
                "profile": {
                  "description": "profile",
                  "type": "object",
                  "properties": {
                    "firstName": {
                      "description": "First name of the profile.",
                      "type": "string"
                    },
                    "lastName": {
                      "description": "Last name of the profile.",
                      "type": "string"
                    },
                    "id": {
                      "description": "Repository Id of profile",
                      "type": "string"
                    },
                    "email": {
                      "description": "Email id of profile.",
                      "type": "string"
                    },
                    "profileType": {
                      "description": "Profile Type.",
                      "type": "string"
                    }
                  }
                },
                "requestedOrganizationId": {
                  "description": "Requested Organization id.",
                  "type": "string"
                },
                "requestedOrganizationName": {
                  "description": "Requested Organization Name.",
                  "type": "string"
                },
                "requesterComments": {
                  "description": "Requester Comments.",
                  "type": "string"
                },
                "site": {
                  "description": "Site",
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "Repository Id of site",
                      "type": "string"
                    },
                    "siteName": {
                      "description": "Name of site.",
                      "type": "string"
                    },
                    "productionURL": {
                      "description": "Production URL of site.",
                      "type": "string"
                    }
                  }
                },
                "siteId": {
                  "description": "Site Id.",
                  "type": "string"
                },
                "status": {
                  "description": "Status of the request.",
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "error": {
      "type": "object",
      "description": "The error object",
      "properties": {
        "errorCode": {
          "description": "The error code.",
          "type": "string"
        },
        "errorMessage": {
          "description": "The error message.",
          "type": "string"
        },
        "status": {
          "description": "The error status.",
          "type": "string"
        }
      }
    }
  },
  "example": {
    "profileRepository": {
      "contactRequests": {
        "sr200010": {
          "approverComments": null,
          "lastModifiedTime": "2020-05-14T08:42:24.939Z",
          "requestedOrganizationName": "National Discount Auto Parts",
          "profile": {
            "lastName": "shopper3",
            "firstName": "testiing5",
            "profileType": "b2b_user_pending",
            "id": "154513",
            "email": "testing5@example.com"
          },
          "approvedBy": null,
          "requestedOrganizationId": "or-100001",
          "site": {
            "productionURL": null,
            "name": "Commerce Cloud Site",
            "id": "siteUS"
          },
          "organization": {
            "id": "or-100001"
          },
          "approvedSource": null,
          "createdTime": "2020-05-14T08:42:24.939Z",
          "siteId": "siteUS",
          "links": [
            {
              "rel": "self",
              "href": "http://localhost:8080/ccstore/v1/profileRequests/sr200010?expand=requestAll"
            }
          ],
          "requesterComments": "Some comments",
          "status": "approved"
        }
      }
    },
    "error": {
      "errorCode": "1000500",
      "errorMessage": "Sample error message",
      "status": "500"
    }
  }
}
