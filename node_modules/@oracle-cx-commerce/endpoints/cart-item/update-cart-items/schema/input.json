{
  "$schema": "http://json-schema.org/draft-06/schema#",
  "id": "https://cloud.oracle.com/commerce-cloud/storefront/schemas/wapi-cart/updateCartItems/input.json",
  "title": "Update Commerce Items",
  "type": "object",
  "description": "[Currently this action accept list of items as input payload. This might change in future to Map.]Update Commerce Items. This api updates more than one commerce items to an order in single call. The input requires all the ids in the payload to retain the items in the cart even if there is no update to item. If any commerce id(s) are not present in the input, those item(s) will be removed from the cart. Dynamic Properties of line item can be added in the the request using the key value pair structure (\"dynamicPropertyKey\":\"dynamicPropertyValue\"). These property values can take the types of boolean, date, float, string, timestamp, enumerated, big string.",
  "properties": {
    "items": {
      "description": "The array of items to add/update to the shopping cart.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "description": "The unique line item ID distinguisher. This field becomes required for existing comerce item in the cart, if user wants to retain this item on update call.",
            "type": "string"
          },
          "quantity": {
            "description": "The quantity of the product in the cart.",
            "type": "integer"
          },
          "externalPriceQuantity": {
            "description": "The maximum quantity of this line item which may be purchased at the external price (this quantity will be verified to ensure it is allowable).",
            "type": "integer"
          },
          "externalPrice": {
            "description": "A price for a quantity of 1 of this line item which will be used in place of the standard catalog price (this price will be verified to ensure it is allowable).",
            "type": "number"
          },
          "shopperInput": {
            "description": "Map of shopper input keys to values",
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      }
    }
  },
  "required": [],
  "example": {
    "items": [
      {
        "id": "ci101000413",
        "quantity": 3,
        "shopperInput": {
          "color": "neon_update",
          "initials": "M.C.K_update",
          "font": "courier_update"
        },
        "externalPriceQuantity": 1,
        "externalPrice": 175,
        "dynamicPropertyKey": "dynamicPropertyValue"
      },
      {
        "id": "ci101000414"
      },
      {
        "quantity": 1,
        "productId": "Product_36Exy",
        "catRefId": "Sku_36Fxy"
      }
    ]
  }
}