/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

import {log} from './index';

const {changeLogLevel} = require('@oracle-cx-commerce/logger/common');
const fetch = require('@oracle-cx-commerce/http-client');

const {Request, Response, Headers} = fetch;

changeLogLevel(log, `${process.env.OCC_VERBOSE ? 'debug' : 'info'}`);

global.log = log;
global.__ENABLE_USER_TIMING_API__ = false;
global.__OCC_DEV__ = false;

global.fetch = fetch;
global.Response = Response;
global.Request = Request; // Replace global Request class definition with ApiRequest Class
global.Headers = Headers;

// suppressing console log for API test runs
console.log = console.info = console.debug = console.group = console.groupEnd = jest.fn();
