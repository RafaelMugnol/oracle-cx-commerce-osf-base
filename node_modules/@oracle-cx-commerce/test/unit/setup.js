/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

const {default: fetch, Request, Response} = require('node-fetch');

global.Response = Response;

global.Request = Request;

global.fetch = fetch;

global.__ENABLE_USER_TIMING_API__ = true;

global.__OCC_DEV__ = false;

if (!global.navigator) {
  // Allows to run CLI tests since the `global.navigator` object is undefined.
  global.navigator = {
    userAgent: 'node.js',
    platform: 'mac', // This can be set to mac, windows, or linux
    appName: 'OSF-CLI-Tools' // Be sure to define this as well
  };
}

Object.defineProperty(global.navigator, 'userAgent', {
  value:
    'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1'
});
