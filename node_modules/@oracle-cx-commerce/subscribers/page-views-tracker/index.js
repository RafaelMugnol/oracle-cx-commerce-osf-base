/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

export default ({endpoint, subscribeDispatch}) => {
  return subscribeDispatch((action, state) => {
    const {type} = action;
    if (type === 'getApplicationPage' || type === 'init') {
      endpoint('savePageViewsCount', {pageViews: 1}, state);
    }
  });
};
