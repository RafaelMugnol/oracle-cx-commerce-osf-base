/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

export const postToInfinity = inputMap => {
  const {ORA} = window;

  if (ORA && ORA.view) {
    ORA.view({data: inputMap});
  }
};

export const addEloquaCampaign = (order, inputMap) => {
  if (order.markers) {
    const markers = Object.values(order.markers).reduce(
      (target, val) => {
        target['key'].push(val.key);
        target['value'].push(val.value);

        return target;
      },
      {key: [], value: []}
    );

    if (markers.key.length > 0) {
      inputMap['wt.z_campaignId'] = markers.value.join(';');
      inputMap['wt.z_campaignSource'] = markers.key.join(';');
    }
  }
};
