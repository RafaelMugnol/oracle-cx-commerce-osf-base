/*
 ** Copyright (c) 2021 Oracle and/or its affiliates.
 */

// Absolute paths
const DEFAULT_FILTER = /^\/.*\.*$/;

module.exports = (options = {}) => ({
  name: 'occ-externalize',

  setup(build) {
    const {filter = DEFAULT_FILTER} = options;

    build.onResolve({filter}, args => {
      return {
        path: args.path,
        external: true
      };
    });
  }
});
