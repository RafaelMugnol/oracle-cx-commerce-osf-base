/*
 ** Copyright (c) 2020 Oracle and/or its affiliates.
 */

import {getStructuredDataForPage} from '@oracle-cx-commerce/commerce-utils/seo';
import {buildSocialTagsForServer} from '@oracle-cx-commerce/commerce-utils/social';

/**
 * Adds SEO tags to the page during server side rendering
 */
export default (req, res) => {
  const {state} = res.locals;

  let seoMetaHtml = getStructuredDataForPage({
    req,
    state
  });

  seoMetaHtml += buildSocialTagsForServer({req, state});

  return seoMetaHtml;
};
