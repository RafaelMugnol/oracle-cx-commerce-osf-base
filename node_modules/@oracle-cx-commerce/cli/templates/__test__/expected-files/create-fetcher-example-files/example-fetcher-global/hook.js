import {useEffect} from 'react';
import {isEmptyObject} from '@oracle-cx-commerce/utils/generic';
import {aSelector} from '../../selectors';
import {exampleFetcher} from '..';

/**
 * This hook will invoke the exampleFetcher if the currency
 * list is not already available in the application state.
 */
export default store =>
  useEffect(() => {
    // Detects if the site was populated in the state during server-side rendering
    if (isEmptyObject(aSelector(store.getState()))) {
      exampleFetcher(store);
    }
  }, [store]);
